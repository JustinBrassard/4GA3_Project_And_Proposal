addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 16) %>%
addTiles()
summary(m2)
m2 %>% addHeatmap(lng = -79.3, lat = , intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 16) %>%
addTiles()
summary(m2)
m2 %>% addHeatmap(lng = -79.3, lat = 4, intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 16) %>%
addTiles()
summary(m2)
m2 %>% addHeatmap(lng = -79.3, lat = 4, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.map %>% addHeatmap(lng = -79.3, lat = 4, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
rm(list = ls())
library(sp)
library(leaflet)
library(tidyverse)
library(gstat)
library(sf)
library(readr)
library(spatstat)
library(maptools)
library(dplyr)
#importing necessary files from GitHub
collisionsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Motor%20Vehicle%20Collisions/Motor%20Vehicle%20Collisions%20with%20KSI%20Data%20True.csv?token=AS22SR2ZGZO34O7CM56XBFTANDP44"
zonesfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Stationary%20Sign%20locations/Stationary%20Sign%20Locations%20True%20-%20Stationary%20Sign%20locations.csv?token=AS22SR3YXJ3MMPTFKRTZFIDANDQKW"
schoolsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/point-school-locations-wgs84/School%20Locations%20True%20-%20School%20locations-all%20types%20data.csv?token=AS22SR3J4NEF54PS3OOARYTANDQOY"
boundsfile <- "https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Toronto%20Boundary%20Points%20UTM15N/Toronto_Points.csv"
Motor_Vehicle_Collisions_with_KSI_Data_True<-read_csv(url(collisionsfile))
Stationary_Sign_Locations_True<-read_csv(url(zonesfile))
School_Locations_True<-read_csv(url(schoolsfile))
Toronto_Points<-read_csv(url(boundsfile))
#separation of 'geometry' column into two lng & lat columns for main data sets
School_Zones <- Stationary_Sign_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Collisions <- Motor_Vehicle_Collisions_with_KSI_Data_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Schools <- School_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
#df to sf conversion of main data sets
School_Zones.sf <- st_as_sf(School_Zones, coords = c("lng", "lat"))
Collisions.sf <- st_as_sf(Collisions, coords = c("lng", "lat"))
Schools.sf <- st_as_sf(Schools, coords = c("lng", "lat"))
#icon creation for main leaflet (TEST)
schoolIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-house-icon-16.png",
iconWidth = 30, iconHeight = 30
)
zonesIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-icon-png-40.png",
iconWidth = 30, iconHeight = 30
)
collisionsIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/-alert-attention-danger-exclamation-safety-warning-icon--icon--33.png",
iconWidth = 30, iconHeight = 30
)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.map %>% addHeatmap(lng = -79.3, lat = 4, intensity = 5,
blur = 40, max = 1, radius = 25)
library(leaflet.extras)
library(sp)
library(leaflet)
library(tidyverse)
library(gstat)
library(sf)
library(readr)
library(spatstat)
library(maptools)
library(dplyr)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.map %>% addHeatmap(lng = -79.3, lat = 4, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
collisions.map %>% addHeatmap(lng = -79.3, lat = 4, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
collisions.map %>% addHeatmap(lng = Collisions$lng, lat = Collisions$lat, intensity = 5,
blur = 40, max = 1, radius = 25)
View(Collisions)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
collisions.map %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
collisions.map %>% addHeatmap(lng = lng, lat = lat, intensity = 5,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
collisions.map %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 5,
blur = 40, max = 1, radius = 25)
# The function `ls()` lists all objects in the Environment, that is, your current workspace; `rm()` removes all objects listed in the argument `list = `
rm(list = ls())
#The function 'library' is used to load the data we want to work with. In this case, it is the geog4ga3 master package that we want to work with
library(geog4ga3)
#The function 'data' is used to check if a dataset is present within any loaded packages. In this case, we are looking for 'snow_deaths'
data("snow_deaths")
#The function 'head' will display the first few rows of the dataframe, snow_deaths
head(snow_deaths)
head(snow_pumps)
#'Tidyverse' is a collection of R packages designed for data science used in everyday data analyses
library(tidyverse)
#The function 'ggplot' is used for data visualization - it creates a graph. The function 'geom_point' tells R you want to create a plot of points. 'data = snow_deaths' tells R you want to use the 'snow_deaths' dataframe. 'aes' stands for aesthetics of your graph where 'x = long' sets the x axis to 'long', where 'y = lat' sets the y axis to 'lat', where 'color = blue' colours the points blue and 'shape = 16' assigns the shape of the points - in this case, '16' are circles and '17' are triangles
ggplot() +
geom_point(data = snow_deaths, aes(x = long, y = lat), color = "blue", shape = 16) +
geom_point(data = snow_pumps, aes(x = long, y = lat), color = "black", shape = 17)
# 'Leaflet' is a package used for visualizing data on a map in R. 'Magrittr' is a package used for creating pipe operators
#install.packages('leaflet') # Run only if you have not yet installed `leaflet`!
#install.packages('magrittr') # Run only if you have not yet installed `magrittr`!
library(leaflet)
library(magrittr)
# Here, we create a `leaflet` object and assign it to the variable, 'm'. The 'setView' function sets the view of the map where 'lng = -0.136' sets the longitutde, 'lat = 51.513' sets the latitude and the map zoom is set to 16. The '%>%' is a pipe operator that passes the output from the left hand side of the operator to the first argument of the right hand side of the operator. In this case we are telling `R` that we want to center the map on the set longitude and latitude, with a zoom level of 16, which corresponds roughly to a neighborhood
m <- leaflet(data = snow_deaths) %>%
setView(lng = -0.136, lat = 51.513, zoom = 16)
m
# We are adding a basemap or background map of the study location by means of the `addTiles` function to the 'm' variable
m <- m %>% addTiles()
m
# We are adding the cholera deaths to the map using 'group = Deaths'. The '~' symbol tells R to use the same longitude and latitude values used in the previous block of code and the 'clusterOptions = markerClusterOptions()' clusters a large number of markers on the map - in this case it is clusturing number of deaths into icons with numbers
m <- m %>% addMarkers(~long, ~lat, clusterOptions = markerClusterOptions(), group = "Deaths")
m
m %>% addMarkers(data = snow_pumps, ~long, ~lat, group = "Pumps")
#install.packages("leaflet.extras") # Run only if you have not installed `leaflet.extras` yet!
library(leaflet.extras)
m2 <- leaflet(data = snow_deaths) %>%
setView(lng = -0.136, lat = 51.513, zoom = 16) %>%
addTiles()
# The 'addHeatmap' function is making a heat map. We specify the coordinates, same as the block of code above. The 'intensity' function sets a numeric value, the 'blur' specifies the amount of blur to apply and the 'radius' function sets the radius of each point on the heatmap
m2 %>% addHeatmap(lng = ~long, lat = ~lat, intensity = ~Count,
blur = 40, max = 1, radius = 25)
View(m2)
View(snow_deaths)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
rm(list = ls())
library(leaflet.extras)
library(sp)
library(leaflet)
library(tidyverse)
library(gstat)
library(sf)
library(readr)
library(spatstat)
library(maptools)
library(dplyr)
#importing necessary files from GitHub
collisionsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Motor%20Vehicle%20Collisions/Motor%20Vehicle%20Collisions%20with%20KSI%20Data%20True.csv?token=AS22SR2ZGZO34O7CM56XBFTANDP44"
zonesfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Stationary%20Sign%20locations/Stationary%20Sign%20Locations%20True%20-%20Stationary%20Sign%20locations.csv?token=AS22SR3YXJ3MMPTFKRTZFIDANDQKW"
schoolsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/point-school-locations-wgs84/School%20Locations%20True%20-%20School%20locations-all%20types%20data.csv?token=AS22SR3J4NEF54PS3OOARYTANDQOY"
boundsfile <- "https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Toronto%20Boundary%20Points%20UTM15N/Toronto_Points.csv"
Motor_Vehicle_Collisions_with_KSI_Data_True<-read_csv(url(collisionsfile))
Stationary_Sign_Locations_True<-read_csv(url(zonesfile))
School_Locations_True<-read_csv(url(schoolsfile))
Toronto_Points<-read_csv(url(boundsfile))
#separation of 'geometry' column into two lng & lat columns for main data sets
School_Zones <- Stationary_Sign_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Collisions <- Motor_Vehicle_Collisions_with_KSI_Data_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Schools <- School_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
#df to sf conversion of main data sets
School_Zones.sf <- st_as_sf(School_Zones, coords = c("lng", "lat"))
Collisions.sf <- st_as_sf(Collisions, coords = c("lng", "lat"))
Schools.sf <- st_as_sf(Schools, coords = c("lng", "lat"))
#icon creation for main leaflet (TEST)
schoolIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-house-icon-16.png",
iconWidth = 30, iconHeight = 30
)
zonesIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-icon-png-40.png",
iconWidth = 30, iconHeight = 30
)
collisionsIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/-alert-attention-danger-exclamation-safety-warning-icon--icon--33.png",
iconWidth = 30, iconHeight = 30
)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 25)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 15)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 20)
#Main data sets leaflet (TEST)
overview.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon) %>%
addMarkers(data = Schools.sf, icon = schoolIcon)
overview.map
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
summary(collisions.map)
m2 <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17)
rm(list = ls())
library(leaflet.extras)
library(sp)
library(leaflet)
library(tidyverse)
library(gstat)
library(sf)
library(readr)
library(spatstat)
library(maptools)
library(dplyr)
#importing necessary files from GitHub
collisionsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Motor%20Vehicle%20Collisions/Motor%20Vehicle%20Collisions%20with%20KSI%20Data%20True.csv?token=AS22SR2ZGZO34O7CM56XBFTANDP44"
zonesfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Stationary%20Sign%20locations/Stationary%20Sign%20Locations%20True%20-%20Stationary%20Sign%20locations.csv?token=AS22SR3YXJ3MMPTFKRTZFIDANDQKW"
schoolsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/point-school-locations-wgs84/School%20Locations%20True%20-%20School%20locations-all%20types%20data.csv?token=AS22SR3J4NEF54PS3OOARYTANDQOY"
boundsfile <- "https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Toronto%20Boundary%20Points%20UTM15N/Toronto_Points.csv"
Motor_Vehicle_Collisions_with_KSI_Data_True<-read_csv(url(collisionsfile))
Stationary_Sign_Locations_True<-read_csv(url(zonesfile))
School_Locations_True<-read_csv(url(schoolsfile))
Toronto_Points<-read_csv(url(boundsfile))
#importing necessary files from GitHub
collisionsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Motor%20Vehicle%20Collisions/Motor%20Vehicle%20Collisions%20with%20KSI%20Data%20True.csv?token=AS22SR2ZGZO34O7CM56XBFTANDP44"
zonesfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Stationary%20Sign%20locations/Stationary%20Sign%20Locations%20True%20-%20Stationary%20Sign%20locations.csv?token=AS22SR3YXJ3MMPTFKRTZFIDANDQKW"
schoolsfile="https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/point-school-locations-wgs84/School%20Locations%20True%20-%20School%20locations-all%20types%20data.csv?token=AS22SR3J4NEF54PS3OOARYTANDQOY"
boundsfile <- "https://raw.githubusercontent.com/JustinBrassard/4GA3_Project_And_Proposal/main/data/Toronto%20Boundary%20Points%20UTM15N/Toronto_Points.csv"
Motor_Vehicle_Collisions_with_KSI_Data_True<-read_csv(url(collisionsfile))
Stationary_Sign_Locations_True<-read_csv(url(zonesfile))
School_Locations_True<-read_csv(url(schoolsfile))
Toronto_Points<-read_csv(url(boundsfile))
#separation of 'geometry' column into two lng & lat columns for main data sets
School_Zones <- Stationary_Sign_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Collisions <- Motor_Vehicle_Collisions_with_KSI_Data_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
Schools <- School_Locations_True %>%
separate(geometry, into = c('lng', 'lat'), sep = ', ')
#df to sf conversion of main data sets
School_Zones.sf <- st_as_sf(School_Zones, coords = c("lng", "lat"))
Collisions.sf <- st_as_sf(Collisions, coords = c("lng", "lat"))
Schools.sf <- st_as_sf(Schools, coords = c("lng", "lat"))
#icon creation for main leaflet (TEST)
schoolIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-house-icon-16.png",
iconWidth = 30, iconHeight = 30
)
zonesIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-icon-png-40.png",
iconWidth = 30, iconHeight = 30
)
collisionsIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/-alert-attention-danger-exclamation-safety-warning-icon--icon--33.png",
iconWidth = 30, iconHeight = 30
)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.hmap <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
m2 %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 18)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.hmap <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 18)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.hmap <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.hmap <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon)
#icon creation for main leaflet (TEST)
schoolIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-house-icon-16.png",
iconWidth = 30, iconHeight = 30
)
zonesIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/school-icon-png-40.png",
iconWidth = 10, iconHeight = 10
)
collisionsIcon <- makeIcon(
iconUrl = "https://www.freeiconspng.com/uploads/-alert-attention-danger-exclamation-safety-warning-icon--icon--33.png",
iconWidth = 30, iconHeight = 30
)
collisions.map <- leaflet() %>% addTiles() %>%
addMarkers(data = Collisions.sf, icon = collisionsIcon)
collisions.map
collisions.hmap <- leaflet(data = Collisions) %>%
setView(lng = -79.3, lat = 43.65, zoom = 10) %>%
addTiles()
Collisions$lng <- as.numeric(Collisions$lng)
Collisions$lat <- as.numeric(Collisions$lat)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17)
collisions.hmap %>% addHeatmap(lng = ~lng, lat = ~lat, intensity = 1,
blur = 40, max = 1, radius = 17) %>%
addMarkers(data = School_Zones.sf, icon = zonesIcon)
